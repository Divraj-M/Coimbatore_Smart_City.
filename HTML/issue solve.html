<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBT_Smart_City</title>
    <link rel="icon" href="/img/kovi web logo.png">
    <link rel="stylesheet" href="/CSS/index.css ">
    <link rel="stylesheet" href="/CSS/issue solve.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://kit.fontawesome.com/027c56105b.js" crossorigin="anonymous"></script>
    <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js" charset="utf-8"></script>
</head>
<body>
    <div class="index-container">
        <section>
            <header>
                <nav>
                    <div id="logo">company logo</div>
                    <div id="nav-item">
                        <ul>
                           <div class="tag"> <li><a href="">About</a></li>
                            <li><a href="">Feature</a></li>
                            <li><a href="">Pricing</a></li></div>
                            <li><button id="getstart-btn">GET START</button></li>
                        </ul>
                        
                    </div>
                </nav>
                <br>
                <br>
            
                <div class="report_bottom-form_cont">
                <div class="contact-contain">
                    <h2>Issue Solved</h2>
                    <form id="contactForm">
                      <input type="text" id="name" name="name" placeholder="Your Name" required>
                      <input type="email" id="email" name="email" placeholder="Your Email" required>
                      <textarea id="message" name="message" placeholder="Your Message" required></textarea><br>
                      <input type="hidden" role="uploadcare-uploader"
                      data-public-key="b6fb424840940f9cdbfd"
                      data-images-only="true"
                      data-clearable="true"
                      />
                      <button type="submit" id="upload-reportform_submit">Submit</button>
                      <br>
                      <div class="ind-sub_icons">
                        <span><i class="fa-brands fa-facebook-f" style="color: #41b011;"></i></span>
                        <span><i class="fa-brands fa-twitter" style="color: #1bc918;"></i></span>
                        <span><i class="fa-brands fa-square-instagram" style="color: #0edd26;"></i></span>
                        <span><i class="fa-brands fa-linkedin-in" style="color: #35c40e;"></i></span>
                        <span><i class="fa-brands fa-youtube" style="color: #2fb913;"></i></span><br>
                        </div>
                    </form>
                    <script src="/JS/issue solve.js"></script>
                  </div>
                    <div id="map">
                    </div>
                
                </div>
            </div>
            



        </section>


        <footer id="foot_cont">
            <div class="foot_container">
              <div class="foot_logo">
                <h3>company logo</h3>
  
              </div>
              <div class="foot_menutype">
                <div class="foot_company">
                  <h3><b>COMPANY</b></h3>
                  <li><b>How it works</b></li>
                  <b></b>
                  <li><b>Pricing</b></li>
                  <li><b>Demo</b></li>
                </div>
                <div class="foot_resources">
                  <h3><b>RESOURCES</b></h3>
                  <li><b>Blog post name goes here</b></li>
                  <li><b>Blog post name goes here</b></li>
                  <li><b>Blog post name goes here</b></li>
                  <li><b>see all resources</b></li>
                </div>
                <div class="foot_about">
                  <h3><b>ABOUT</b></h3>
                  <li><b>Term & Conditions</b></li>
                  <li><b>privacy policy</b></li>
                </div>
              </div>
            </div>
            <div class="foot_copyright">
              <h3><b>Copyright 2022 Company name</b></h3>
            </div>
          </footer>
    </div>           
</body>
</html>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script>
    // Map initialization 
    var map = L.map('map').setView([14.0860746, 100.608406], 6);

    //osm layer
    var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });
    osm.addTo(map);

    if(!navigator.geolocation) {
        console.log("Your browser doesn't support geolocation feature!")
    } else {
        setInterval(() => {
            navigator.geolocation.getCurrentPosition(getPosition)
        }, 5000);
    }

    var marker, circle;

    function getPosition(position){
        // console.log(position)
        var lat = position.coords.latitude
        var long = position.coords.longitude
        var accuracy = position.coords.accuracy

        if(marker) {
            map.removeLayer(marker)
        }

        if(circle) {
            map.removeLayer(circle)
        }

        marker = L.marker([lat, long])
        circle = L.circle([lat, long], {radius: accuracy})

        var featureGroup = L.featureGroup([marker, circle]).addTo(map)

        map.fitBounds(featureGroup.getBounds())

        console.log("Your coordinate is: Lat: "+ lat +" Long: "+ long+ " Accuracy: "+ accuracy)
    }

</script>